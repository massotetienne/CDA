(this.webpackJsonpreact=this.webpackJsonpreact||[]).push([[0],{58:function(e,t,c){},59:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c.n(a),i=c(14),s=c(9),r=c(11),o=c(27),l=c(28),u=c(4),j="GET_METEO_DAY",d="GET_COUNTRY",b="GET_ARTICLE",m="POST_ARTICLE",p="PUT_ARTICLE",h="DELETE_ARTICLE",O={listMeteo:[]};var x={ListCountries:{}};var f=c(3),v=c(8),g=c.n(v),y=function(){return function(e){return g.a.get("http://localhost:3004/article/get").then((function(t){console.log("Get art",t.data),e({type:b,payload:t.data})})).catch((function(e){return console.log(e)}))}},q=c(1),N=function(e){var t=e.id,c=Object(s.b)(),a=function(){console.log(t),c(function(e){return console.log("actiondel",e),function(t){return g.a.delete("http://localhost:3004/article/delete/".concat(e)).then((function(c){console.log("Delete Article",c.data.dbArticle),t({type:h,payload:{message:c.data.message,newsData:c.data.dbArticle}}),console.log("Delete Article dispatch",e)})).catch((function(e){return console.log(e)}))}}(t))};return Object(q.jsx)("button",{onClick:function(){window.confirm("Voulez vous supprimer cet article ?")&&a()},children:" Supprimer "})},w=function(e){var t,c=e.article,n=Object(a.useState)(!1),i=Object(f.a)(n,2),s=i[0],r=i[1],o=Object(a.useState)(""),l=Object(f.a)(o,2),u=l[0],j=l[1];return Object(q.jsxs)("div",{className:"article",style:{background:s?"#f3feff":"white"},children:[Object(q.jsxs)("div",{className:"card-header",children:[Object(q.jsx)("h3",{children:c.name}),Object(q.jsxs)("em",{children:["Post\xe9 le ",(t=c.date,new Date(t).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"}))]})]}),s?Object(q.jsx)("textarea",{onChange:function(e){return j(e.target.value)},autoFocus:!0,defaultValue:u||c.text}):Object(q.jsx)("p",{children:u||c.text}),Object(q.jsxs)("div",{className:"btn-container",children:[s?Object(q.jsx)("button",{onClick:function(){var e,t;console.log("put article",u,c),E.dispatch((e=c._id,t={text:u},console.log("putArticle",t),function(c){return g.a.put("http://localhost:3004/article/update/".concat(e),t).then((function(e){console.log("putArticle",e.data),c({type:p,payload:e.data.dbArticle})})).catch((function(e){return console.log(e)}))})),r(!1)},children:"Valider"}):Object(q.jsx)("button",{onClick:function(){return r(!0)},children:"Edit"}),Object(q.jsx)(N,{id:c._id})]})]})},A={flash:"",newsData:[],dataArticle:w,news:{name:"",text:"",date:""}};var C=Object(r.combineReducers)({meteo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;return t.type===j?Object(u.a)(Object(u.a)({},e),{},{listMeteo:t.payload}):e},countries:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;return t.type===d?Object(u.a)(Object(u.a)({},e),{},{ListCountries:t.payload}):e},article:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:case m:case p:return Object(u.a)(Object(u.a)({},e),{},{newsData:t.payload});case h:return Object(u.a)(Object(u.a)({},e),{},{flash:t.payload.message,newsData:t.payload.newsData});default:return e}}}),E=Object(r.createStore)(C,Object(o.composeWithDevTools)(Object(r.applyMiddleware)(l.a))),S=c(10),D=c(2),T=function(){return Object(q.jsxs)("div",{className:"logo",children:[Object(q.jsx)("img",{src:"./img/logo192.png",alt:"logo"}),Object(q.jsx)("h3",{children:"React World"})]})},L=function(){return Object(q.jsxs)("div",{className:"navigation",children:[Object(q.jsx)(S.b,{exact:!0,to:"/",activeClassName:"nav-active",children:"Acceuil"}),Object(q.jsx)(S.b,{exact:!0,to:"/news",activeClassName:"nav-active",children:"News"}),Object(q.jsx)(S.b,{exact:!0,to:"/a-propos",activeClassName:"nav-active",children:"A propos"}),Object(q.jsx)(S.b,{exact:!0,to:"/meteo",activeClassName:"nav-active",children:"M\xe9teo"})]})},k=function(){return Object(q.jsxs)("div",{children:[Object(q.jsx)(L,{}),Object(q.jsx)(T,{}),Object(q.jsx)("h1",{children:" A propos"}),Object(q.jsx)("br",{}),Object(q.jsx)("p",{children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Placeat illo odio eius harum alias, error repudiandae vero iusto illum expedita quod ipsum facere saepe enim cumque cum pariatur omnis odit voluptate consectetur similique minima obcaecati et dolorum. Omnis fugiat deserunt sunt necessitatibus porro ab rem quos, sed qui nam minus a magnam voluptate unde illum animi dolorem fugit, laborum voluptas!"}),Object(q.jsx)("br",{}),Object(q.jsx)("p",{children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Nobis a ipsam corrupti nisi quam non autem sapiente adipisci asperiores itaque totam aliquam nostrum inventore unde cumque eaque ex ea veritatis eius accusantium, magnam consequatur nihil? Laudantium ipsum atque quae pariatur at, earum adipisci reprehenderit delectus optio officia totam modi eligendi numquam officiis velit quibusdam dolor possimus libero aut hic aliquam? Blanditiis a consequuntur dignissimos aut facilis voluptas eligendi repudiandae, voluptatibus corporis quo, fuga amet molestias maxime? Vero vel ab sint sunt culpa facere dolorum perspiciatis ullam! Delectus sequi consequuntur accusamus tempore voluptatem reiciendis itaque voluptate tenetur autem facilis pariatur quos impedit laborum expedita nobis voluptatibus eum, maxime amet quasi. Nobis repellendus voluptatum ullam rerum id possimus, molestias rem quam eveniet voluptas, quia at enim quos, blanditiis modi et temporibus quibusdam ipsa facilis aperiam! Amet, mollitia qui obcaecati ducimus quidem eligendi!"})]})},_=function(e){var t,c=e.country,a=e.index;return console.log(e),Object(q.jsxs)("li",{className:"card",children:[Object(q.jsx)("img",{src:c.flags.png,alt:"flag"},a),Object(q.jsx)("div",{className:"data-container",children:Object(q.jsxs)("ul",{children:[Object(q.jsx)("li",{children:c.name.common},a),Object(q.jsx)("li",{children:c.capital},a),Object(q.jsx)("li",{children:c.continents},a),Object(q.jsxs)("li",{children:["Pop : ",(t=c.population,t.toString().replace(/\B(?=(\d{3})+(?!\d))/g," "))]},a)]})})]})},M=function(){var e=Object(a.useState)([]),t=Object(f.a)(e,2),c=t[0],n=t[1],i=Object(a.useState)([]),s=Object(f.a)(i,2),r=s[0],o=s[1],l=Object(a.useState)(!0),u=Object(f.a)(l,2),j=u[0],d=u[1],b=Object(a.useState)(40),m=Object(f.a)(b,2),p=m[0],h=m[1],O=Object(a.useState)(""),x=Object(f.a)(O,2),v=x[0],y=x[1];return Object(a.useEffect)((function(){j&&(g.a.get("https://restcountries.com/v3.1/all").then((function(e){return n(e.data)})),d(!1)),console.log(c);!function(){var e=Object.keys(c).map((function(e){return c[e]})).sort((function(e,t){return t.population-e.population}));e.length=p,o(e)}()}),[c,p,j]),Object(q.jsxs)("div",{className:"countries",children:[Object(q.jsxs)("div",{className:"sort-container",children:[Object(q.jsx)("input",{type:"range",min:"1",max:"250",value:p,onChange:function(e){return h(e.target.value)}}),Object(q.jsx)("ul",{children:["Africa","America","Asia","Oceania","Europe"].map((function(e){return Object(q.jsxs)("li",{children:[Object(q.jsx)("input",{type:"radio",value:e,id:e,checked:e===v,onChange:function(e){return y(e.target.value)}}),Object(q.jsx)("label",{htmlFor:e,children:e})]},e)}))})]}),Object(q.jsx)("div",{className:"cancel",children:v&&Object(q.jsx)("h5",{onClick:function(){return y("")},children:"Annuler recherche"})}),Object(q.jsx)("ul",{className:"countries-list",children:r.filter((function(e){return e.region.includes(v)})).map((function(e,t){return Object(q.jsx)(_,{country:e},t)}))})]})},R=function(){return Object(q.jsxs)("div",{className:"home",children:[Object(q.jsx)(L,{}),Object(q.jsx)(T,{}),Object(q.jsx)(M,{})]})},I=function(){var e=Object(a.useState)(""),t=Object(f.a)(e,2),c=t[0],n=t[1],i=Object(a.useState)(""),r=Object(f.a)(i,2),o=r[0],l=r[1],u=Object(a.useState)(!1),j=Object(f.a)(u,2),d=j[0],b=j[1],p=Object(s.c)((function(e){return e.article.newsData})),h=function(e){var t;e.preventDefault(),o.length<140?b(!0):(E.dispatch((t={name:c,text:o,date:Date.now()},console.log("addArticle",t),function(e){return g.a.post("http://localhost:3004/article",t).then((function(t){console.log("postArticle",t.data),e({type:m,payload:t.data.dbArticle})})).catch((function(e){return console.log(e)}))})),E.dispatch(y()),n(""),l(""))};return Object(q.jsxs)("div",{className:"news-container",children:[Object(q.jsx)(L,{}),Object(q.jsx)(T,{}),Object(q.jsx)("h1",{children:"News"}),Object(q.jsxs)("form",{onSubmit:function(e){return h(e)},children:[Object(q.jsx)("input",{onChange:function(e){return n(e.target.value)},type:"text",placeholder:"Nom",value:c}),Object(q.jsx)("textarea",{style:{border:d?"1px solid red":"1px solid #61dafb"},onChange:function(e){return l(e.target.value)},placeholder:"Message",value:o}),d&&Object(q.jsx)("p",{children:"Veuillez \xe9crire un minimum de 140 caract\xe8res"}),Object(q.jsx)("input",{type:"submit",value:"Envoyer"})]}),Object(q.jsx)("ul",{children:p.length>0&&p.sort((function(e,t){return t.date-e.date})).map((function(e){return Object(q.jsx)(w,{article:e},e._id)}))})]})},P=function(e){var t=e.dataChild,c=e.index;return console.log("jbkj",t,c),Object(q.jsx)("li",{className:"card",children:Object(q.jsx)("div",{className:"data-container",children:Object(q.jsx)("ul",{children:Object(q.jsxs)("li",{children:[Object(q.jsxs)("p",{children:[" pression:",t.current&&t.current.pressure]}),Object(q.jsxs)("p",{children:[" humidity:",t.current&&t.current.humidity]})]})})})})},V=function(){var e=Object(s.c)((function(e){return e.meteo.listMeteo}));return Object(a.useEffect)((function(){E.dispatch((function(e){return g.a.get("https://api.openweathermap.org/data/2.5/onecall?lat=33.44&lon=-94.04&exclude=hourly,daily",{params:{appid:"32ee58ebca536764e3cda83854a4fe6e"}}).then((function(t){console.log("dawtaw",t.data),e({type:j,payload:t.data})})).catch((function(e){return console.log(e)}))}))}),[]),console.log("data2",e),Object(q.jsxs)("div",{children:[Object(q.jsx)(T,{}),Object(q.jsx)(L,{}),Object(q.jsx)("h1",{children:"Meteo"}),Object(q.jsx)("ul",{children:Object(q.jsx)(P,{dataChild:e},e)})]})},G=function(){return Object(q.jsx)("div",{children:Object(q.jsx)("h1",{children:"Erreur 404"})})},B=function(){return Object(q.jsx)(S.a,{children:Object(q.jsxs)(D.c,{children:[Object(q.jsx)(D.a,{path:"/",exact:!0,element:Object(q.jsx)(R,{})}),Object(q.jsx)(D.a,{path:"/a-propos",exact:!0,component:Object(q.jsx)(k,{})}),Object(q.jsx)(D.a,{path:"/news",exact:!0,component:Object(q.jsx)(I,{})}),Object(q.jsx)(D.a,{path:"/meteo",exact:!0,component:Object(q.jsx)(V,{})}),Object(q.jsx)(D.a,{component:Object(q.jsx)(G,{})})]})})};c(58);E.dispatch(y()),Object(i.render)(Object(q.jsx)(s.a,{store:E,children:Object(q.jsx)(n.a.StrictMode,{children:Object(q.jsx)(B,{})})}),document.getElementById("root"))}},[[59,1,2]]]);
//# sourceMappingURL=main.7912e44f.chunk.js.map